_format_version: "2.1"
_transform: true

services:
    - name: studio-api
      url: http://studio-api:9998
      routes:
          - name: studio-api-route
            strip_path: true
            paths:
                - /api
      plugins:
          - name: cors

    - name: dashboards
      url: http://dashboards:5173
      routes:
          - name: dashboards-route
            strip_path: true
            paths:
                - /dashboards
      plugins:
          - name: cors

    - name: serve-models-api
      url: http://serve-models-api:9002
      routes:
          - name: serve-models-api-route
            strip_path: true
            paths:
                - /serve-models-api
      plugins:
          - name: cors

    - name: workflow-worker
      url: http://workflow-worker:7077
      routes:
          - name: workflow-worker-route
            strip_path: true
            paths:
                - /workflow-worker
      plugins:
          - name: cors

    - name: clickhouse
      url: http://clickhouse:8123
      routes:
          - name: clickhouse-route
            strip_path: true
            paths:
                - /clickhouse
      plugins:
          - name: cors

    - name: hatchet-postgres
      url: http://hatchet-postgres:5432
      routes:
          - name: hatchet-postgres-route
            strip_path: true
            paths:
                - /hatchet-postgres
      plugins:
          - name: cors

    - name: hatchet-lite
      url: http://hatchet-lite:8888
      routes:
          - name: hatchet-lite-route
            strip_path: true
            paths:
                - /hatchet-lite
      plugins:
          - name: cors

consumers:
    - username: example-consumer
      keyauth_credentials:
          - key: example-key
